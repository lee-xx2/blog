"use strict";var p=$(".first li p");p.attr("flag","0");var second=$(".second");function getArtById(n){$.ajax({url:"../php/study/getArtById.php",type:"post",data:{id:n},success:function(n){var i="";i+='\n      <div class="art_count">\n      <div class="title"><svg class="icon" aria-hidden="true">\n          <use xlink:href="#icon-xiaolian"></use>\n        </svg> <span>'+(n=JSON.parse(n))[0].title+'</span></div>\n      <p class="author">作者：'+n[0].author+'</p>\n      <div class="con_detail">\n        <pre>\n'+n[0].content+'\n            </pre>\n      </div>\n      <div class="footer">\n        <span class="time">发布时间：'+n[0].date+'</span>\n        <span class="page_view">浏览量：'+(n[0].page_view-0+1)+"</span>\n      </div>\n   </div>   \n      ",$(".article_list")[0].innerHTML=i,$(".show").css("display","none"),$(".article_list").fadeIn(1e3),pageView(n[0].id,n[0].page_view-0+1)}})}p.on("mouseover",function(){"0"==$(this).attr("flag")&&(second.slideUp(),p.attr("flag","0"),$(this).next().slideToggle(),$(this).attr("flag","1"))}),$(document).ready(function(){showTit();var n=location.search.slice(1).split("=")[1];n&&getArtById(n)});var flag=!0;function getStu(n,i){$.ajax({url:"../php/study/page.php",type:"post",data:{index:n,length:i},success:function(n){n=JSON.parse(n),flag&&$(".m-style").pagination({totalData:n.total,showData:3,prevContent:"<",nextContent:">",current:1,callback:function(n){flag=!1,getStu(n.getCurrent(),3)}}),render(n.list)}})}function render(n){var i="";n.forEach(function(n){i+='\n    <div class="list" artId="'+n.id+'">\n    <h3>\n      <svg class="icon" aria-hidden="true">\n        <use xlink:href="#icon-lianjie"></use>\n      </svg>\n      <span>'+n.title+'</span>\n    </h3>\n    <figure>\n      <img src="../image/bg2.jpg" alt="">\n      <figcaption>\n        <p class="txt">'+n.content+'</p>\n        <div class="foot">\n          <p><i class="iconfont icon-gingerbread"></i><span class="author">'+n.author+'</span></p>\n          <p><i class="iconfont icon-riqi"></i><span class="date">'+n.date+'</span></p>\n          <p><i class="iconfont icon-liulan1"></i><span class="page_view">'+n.page_view+"</span></p>\n        </div>\n      </figcaption>\n    </figure>\n  </div>"}),$(".right_con .article_list")[0].innerHTML=i}function showTit(){$.ajax({url:"../php/study/getTiti.php",success:function(n){n=JSON.parse(n);var i="",t="",s="",e="";n.forEach(function(n){"HTML学习笔记"==n.type?i+=' <li class="second_li" index=\''+n.id+"'>"+n.title+"</li>":"CSS学习笔记"==n.type?t+=' <li class="second_li" index=\''+n.id+"'>"+n.title+"</li>":"javascript学习笔记"==n.type?s+=' <li class="second_li" index=\''+n.id+"'>"+n.title+"</li>":e+=' <li class="second_li" index=\''+n.id+"'>"+n.title+"</li>"}),$(".html_stu .second")[0].innerHTML=i,$(".css_stu .second")[0].innerHTML=t,$(".js_stu .second")[0].innerHTML=s,$(".jq_stu .second")[0].innerHTML=e,$(".second").find(".second_li").click(function(){clickli(this)})}})}function clickli(n){$(".article_list").css("display","none"),getArtById(n.getAttribute("index"))}function pageView(n,i){$.ajax({url:"../php/study/alertView.php",data:{id:n,page_view:i}})}