"use strict";jQuery.validator.addMethod("testUsername",function(e){return!!/^[a-zA-Z0-9_-]{4,16}$/.test(e)},"用户名4到16位，请输入字母、数字、下划线或减号"),jQuery.validator.addMethod("testPassword",function(e){return!!/(?!.*\s)(?!^[\u4e00-\u9fa5]+$)(?!^[0-9]+$)(?!^[A-z]+$)(?!^[^A-z0-9]+$)^.{8,16}$/.test(e)},"8-16个字符,没有空格,数字、字母、字符至少有两种"),$("#regist").validate({rules:{username:{required:!0,testUsername:!0},accound:{required:!0,email:!0},psw:{required:!0,testPassword:!0},psw2:{required:!0,equalTo:"#psw"}},messages:{username:{required:"请输入您的用户名！"},accound:{required:"请输入您的账号！",email:"请输入正确的邮箱！"},psw:{required:"请输入您的密码！"},psw2:{required:"请确认您的密码！",equalTo:"密码输入不一致！"}},submitHandler:function(){$.ajax({url:"../php/register.php",type:"post",data:{username:$(".username")[0].value,accound:$(".accound")[0].value,password:$(".psw")[0].value},success:function(e){(e=JSON.parse(e)).code&&(window.alert(e.msg),1==e.code&&(window.location.href="../html/loginAndRegist.html"))},error:function(e){console.log("请求失败")}})}}),$(".register").click(function(){window.location.href="../html/loginAndRegist.html"});